# Data acquisition with the AD7705 on the raspberry PI!

The AD7705 is a two channel sigma delta converter which has
differential inputs, a PGA and programmable data rates. It's
perfect for slowly changing inputs such as pressure, temperature,
heart rate etc.

The program is interrupt driven and can thus run in a thread
which is woken up by the interrupt. The clock for the ADC is
generated by directly manipulating the registers of the BCM
chip.

This program switches on the clock from the RPI, 
triggers a calibration of the AD, 
reads data from channel 1 and 
prints it on the screen.

It uses DRDY connected to Port 22 and
waits for a falling edge on this port to read
the data. This is done via interrupts / poll
so that this process sleeps until new data becomes
available.

The design files are in the subdirectory "pcb".

![alt tag](circuit.png)

## Prerequisites

Install the bcm2835 library: http://www.airspayce.com/mikem/bcm2835/

## Building

To build:

    cmake .

    make

## Running

Run it with the command:

    sudo ./ad7705_test


Associated website:
http://web.eng.gla.ac.uk/rpi/

Bernd Porr
mail@berndporr.me.uk
www.berndporr.me.uk
